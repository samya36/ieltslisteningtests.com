<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ÂÆâÂÖ®HTTPÂ§¥ -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://cdnjs.cloudflare.com;
        style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
        font-src 'self' https://cdnjs.cloudflare.com data:;
        img-src 'self' data: blob:;
        audio-src 'self' https://cdn.jsdelivr.net data: blob:;
        connect-src 'self' https://cdn.jsdelivr.net;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        frame-ancestors 'none';
        upgrade-insecure-requests;
    ">

    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">

    <title>Enhanced IELTS Listening Test 1</title>

    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/test.css">
    <link rel="stylesheet" href="../css/accessibility.css">
    <link rel="stylesheet" href="../css/mobile-optimizations.css">
    <link rel="stylesheet" href="../css/enhanced-components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Ë∑≥ËøáÂØºËà™ÔºåÁõ¥Êé•Âà∞‰∏ªË¶ÅÂÜÖÂÆπ</a>
    <div id="sr-announcements" aria-live="polite" aria-atomic="true" style="position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden;"></div>

    <nav class="nav-bar">
        <div class="nav-container">
            <div class="logo">
                <a href="../index.html" class="home-link">
                    <img src="../images/logo.webp" alt="IELTSÂê¨ÂäõËØÑÂàÜËß£Êûê" class="logo-img" width="150" height="150" decoding="async">
                    IELTSÂê¨ÂäõËØÑÂàÜËß£Êûê
                </a>
            </div>
            <button class="nav-toggle" aria-label="ÂàáÊç¢ÂØºËà™ËèúÂçï" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-menu">
                <li><a href="../index.html">È¶ñÈ°µ</a></li>
                <li><a href="scoring.html">ËØÑÂàÜËØ¶Ëß£</a></li>
                <li><a href="cases.html">Ê°à‰æãÂàÜÊûê</a></li>
                <li><a href="practice.html">Âê¨ÂäõÁªÉ‰π†</a></li>
                <li>
                    <button id="kb-help-btn" class="help-btn" type="button">
                        <i class="fas fa-keyboard"></i> Âø´Êç∑ÈîÆ
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <main class="test-container" id="main-content">
        <div class="test-intro">
            <div class="test-header">
                <h1>üéÜ Enhanced IELTS Listening Test 1</h1>
                <div class="test-badges">
                    <span class="badge difficulty">‰∏≠Á≠âÈöæÂ∫¶</span>
                    <span class="badge duration">30ÂàÜÈíü</span>
                    <span class="badge questions">40È¢ò</span>
                </div>
            </div>

            <div class="enhancement-notice">
                <div class="notice-icon">üöÄ</div>
                <div class="notice-content">
                    <h3>Â¢ûÂº∫ÁâπÊÄß</h3>
                    <ul class="feature-list">
                        <li><i class="fas fa-keyboard"></i> ÂÖ®Èù¢ÈîÆÁõòÂø´Êç∑ÈîÆÊîØÊåÅ</li>
                        <li><i class="fas fa-play-circle"></i> Èü≥È¢ëËá™Âä®ÊÅ¢Â§çÊú∫Âà∂</li>
                        <li><i class="fas fa-star"></i> Êô∫ËÉΩÈ¢òÁõÆÊ†áËÆ∞Á≥ªÁªü</li>
                        <li><i class="fas fa-mobile-alt"></i> ÁßªÂä®Á´Ø‰ºòÂåñ‰ΩìÈ™å</li>
                        <li><i class="fas fa-save"></i> Ëá™Âä®ËøõÂ∫¶‰øùÂ≠ò</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-layout">
            <div class="test-main">
                <div class="audio-players-container">
                    <div class="audio-player" id="section1-player-container">
                        <audio id="section1-player" src="../audio/test1/Part1%20Amateur%20Dramatic%20Society.m4a" preload="none"></audio>
                        <div class="custom-player">
                            <div class="player-main">
                                <button class="play-btn" id="section1-play"><i class="fas fa-play"></i></button>
                                <div class="progress-bar"><input type="range" class="progress" id="section1-progress" min="0" max="100" value="0"></div>
                                <div class="time" id="section1-time">00:00 / 00:00</div>
                            </div>
                            <div class="speed-control">
                                <select class="playback-speed" id="section1-speed">
                                    <option value="0.75">0.75x</option>
                                    <option value="1" selected>1.0x</option>
                                    <option value="1.25">1.25x</option>
                                    <option value="1.5">1.5x</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="audio-player" id="section2-player-container" style="display:none;">
                        <audio id="section2-player" src="../audio/test1/Part2%20Talk%20to%20new%20employees%20at%20a%20strawberry%20farm.m4a" preload="none"></audio>
                        <div class="custom-player">
                            <div class="player-main">
                                <button class="play-btn" id="section2-play"><i class="fas fa-play"></i></button>
                                <div class="progress-bar"><input type="range" class="progress" id="section2-progress" min="0" max="100" value="0"></div>
                                <div class="time" id="section2-time">00:00 / 00:00</div>
                            </div>
                            <div class="speed-control">
                                <select class="playback-speed" id="section2-speed">
                                    <option value="0.75">0.75x</option>
                                    <option value="1" selected>1.0x</option>
                                    <option value="1.25">1.25x</option>
                                    <option value="1.5">1.5x</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="audio-player" id="section3-player-container" style="display:none;">
                        <audio id="section3-player" src="../audio/test1/Part3-Field%20trip%20to%20Bolton%20lsland.m4a" preload="none"></audio>
                        <div class="custom-player">
                            <div class="player-main">
                                <button class="play-btn" id="section3-play"><i class="fas fa-play"></i></button>
                                <div class="progress-bar"><input type="range" class="progress" id="section3-progress" min="0" max="100" value="0"></div>
                                <div class="time" id="section3-time">00:00 / 00:00</div>
                            </div>
                            <div class="speed-control">
                                <select class="playback-speed" id="section3-speed">
                                    <option value="0.75">0.75x</option>
                                    <option value="1" selected>1.0x</option>
                                    <option value="1.25">1.25x</option>
                                    <option value="1.5">1.5x</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="audio-player" id="section4-player-container" style="display:none;">
                        <audio id="section4-player" src="../audio/test1/Part4%20Development%20and%20use%20of%20plastics.m4a" preload="none"></audio>
                        <div class="custom-player">
                            <div class="player-main">
                                <button class="play-btn" id="section4-play"><i class="fas fa-play"></i></button>
                                <div class="progress-bar"><input type="range" class="progress" id="section4-progress" min="0" max="100" value="0"></div>
                                <div class="time" id="section4-time">00:00 / 00:00</div>
                            </div>
                            <div class="speed-control">
                                <select class="playback-speed" id="section4-speed">
                                    <option value="0.75">0.75x</option>
                                    <option value="1" selected>1.0x</option>
                                    <option value="1.25">1.25x</option>
                                    <option value="1.5">1.5x</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-tabs" role="tablist">
                    <button class="section-tab active" data-section="1" role="tab" aria-selected="true" id="section1-tab">Section 1</button>
                    <button class="section-tab" data-section="2" role="tab" aria-selected="false" id="section2-tab">Section 2</button>
                    <button class="section-tab" data-section="3" role="tab" aria-selected="false" id="section3-tab">Section 3</button>
                    <button class="section-tab" data-section="4" role="tab" aria-selected="false" id="section4-tab">Section 4</button>
                </div>

                <form id="test-form" class="questions-container">
                    <div class="section-content active" id="section-1" data-section="1">
                        <div class="questions"></div>
                    </div>
                    <div class="section-content" id="section-2" data-section="2" style="display:none;">
                        <div class="questions"></div>
                    </div>
                    <div class="section-content" id="section-3" data-section="3" style="display:none;">
                        <div class="questions"></div>
                    </div>
                    <div class="section-content" id="section-4" data-section="4" style="display:none;">
                        <div class="questions"></div>
                    </div>
                </form>

                <div class="test-actions">
                    <button class="btn-secondary" id="btn-reset"><i class="fas fa-redo"></i> ÈáçÊñ∞ÂºÄÂßã</button>
                    <button class="btn-primary" id="btn-submit"><i class="fas fa-paper-plane"></i> Êèê‰∫§Á≠îÊ°à</button>
                </div>
            </div>

            <aside class="test-sidebar">
                <div class="answer-sheet-container" id="answer-sheet-container"></div>
                <div class="progress-panel">
                    <h4>Á≠îÈ¢òËøõÂ∫¶</h4>
                    <div class="progress-bar"><div class="progress-fill" style="width:0%"></div></div>
                    <div class="progress-text">0 / 40 È¢òÂ∑≤ÂÆåÊàê</div>
                </div>
            </aside>
        </div>
    </main>

    <div id="feedback-container"></div>

    <script src="../js/test-data.js" defer></script>
    <script src="../js/test-answers.js" defer></script>
    <script src="../js/test-renderer.js" defer></script>
    <script src="../js/test-init.js" defer></script>
    <script src="../js/enhanced-answer-sheet.js" defer></script>
    <script src="../js/enhanced-keyboard-navigation.js" defer></script>
    <script src="../js/enhanced-test1-init.js" defer></script>
    <script src="../js/score-engine.js" defer></script>
    <script src="../js/test-page-events.js" defer></script>
</body>
</html>

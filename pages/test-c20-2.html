<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>剑桥雅思20 Test 2 听力测试</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .test-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .info-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .timer-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .timer {
            font-size: 2em;
            color: #e74c3c;
            font-weight: bold;
            margin: 10px 0;
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .btn-primary {
            background: #ff6b6b;
            color: white;
        }

        .btn-primary:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #4ecdc4;
            color: white;
        }

        .btn-success:hover {
            background: #26d0ce;
        }

        .btn-warning {
            background: #ffb74d;
            color: white;
        }

        .btn-warning:hover {
            background: #ffa726;
        }

        .section-container {
            background: white;
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-header {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 20px 30px;
            font-size: 1.3em;
            font-weight: 600;
        }

        .section-content {
            padding: 30px;
        }

        .question-group {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .options {
            margin-top: 10px;
        }

        .option {
            margin: 8px 0;
            display: flex;
            align-items: center;
        }

        .option input {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .option label {
            cursor: pointer;
            flex: 1;
            padding: 5px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .option label:hover {
            background-color: #e9ecef;
        }

        .fill-blank {
            display: inline-block;
            border-bottom: 2px solid #ff6b6b;
            min-width: 100px;
            margin: 0 5px;
            padding: 5px;
            font-weight: bold;
        }

        .fill-blank input {
            border: none;
            outline: none;
            background: transparent;
            font-size: 1em;
            text-align: center;
            width: 100%;
        }

        .completion-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .completion-text {
            line-height: 1.8;
            font-size: 1.1em;
        }

        .match-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .match-questions {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .match-options {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .match-item {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background: white;
            border: 1px solid #e9ecef;
        }

        .submit-container {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .submit-btn {
            background: linear-gradient(135deg, #4ecdc4, #26d0ce);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(78, 205, 196, 0.3);
        }

        .hidden {
            display: none;
        }

        .results {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .score-display {
            text-align: center;
            font-size: 2em;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            border-radius: 10px;
        }

        .select-input {
            width: 50px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .test-info {
                grid-template-columns: 1fr;
            }

            .match-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>剑桥雅思20 Test 2 听力测试</h1>
            <p>Cambridge IELTS 20 Test 2 Listening</p>
            <div class="test-info">
                <div class="info-card">
                    <strong>测试时间</strong><br>30分钟 + 10分钟誊写
                </div>
                <div class="info-card">
                    <strong>题目数量</strong><br>40题
                </div>
                <div class="info-card">
                    <strong>测试部分</strong><br>4个部分
                </div>
                <div class="info-card">
                    <strong>音频播放</strong><br>仅播放一次
                </div>
            </div>
        </div>

        <div class="timer-container">
            <div class="timer" id="timer">30:00</div>
            <div class="controls">
                <button class="btn btn-primary" onclick="startTest()">开始测试</button>
                <button class="btn btn-warning" onclick="pauseTest()">暂停</button>
                <button class="btn btn-success" onclick="submitTest()">提交答案</button>
            </div>
        </div>

        <!-- Audio Player -->
        <div class="timer-container">
            <h3>音频播放器</h3>
            <div id="audioPlayer">
                <audio id="currentAudio" controls style="width: 100%; margin: 10px 0;">
                    您的浏览器不支持音频播放
                </audio>
                <div class="audio-sections" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 15px;">
                    <button class="btn btn-primary" onclick="playSection(1)">Part 1 - 老年人护理支持</button>
                    <button class="btn btn-primary" onclick="playSection(2)">Part 2 - 志愿者活动</button>
                    <button class="btn btn-primary" onclick="playSection(3)">Part 3 - 人文地理学研究</button>
                    <button class="btn btn-primary" onclick="playSection(4)">Part 4 - 食品趋势发展</button>
                </div>
            </div>
        </div>

        <!-- Section 1 -->
        <div class="section-container">
            <div class="section-header">
                Part 1 - 老年人护理支持 (Questions 1-10)
            </div>
            <div class="section-content">
                <p><strong>说明：</strong>完成下面的表格。每个空格写一个单词和/或数字。</p>
                
                <div class="completion-section">
                    <p><strong>Local councils can arrange practical support to help those caring for elderly people at home.</strong></p>
                    
                    <p><strong>This can give the carer:</strong></p>
                    <ul>
                        <li>• time for other responsibilities</li>
                        <li>• a <span class="fill-blank"><input type="text" name="q1" placeholder="1"></span></li>
                    </ul>

                    <h4>Assessment of mother's needs</h4>
                    <p><strong>This may include discussion of:</strong></p>
                    <ul>
                        <li>• how much <span class="fill-blank"><input type="text" name="q2" placeholder="2"></span> the caring involves</li>
                        <li>• what types of tasks are involved, e.g.
                            <ul>
                                <li>- help with dressing</li>
                                <li>- helping her have a <span class="fill-blank"><input type="text" name="q3" placeholder="3"></span></li>
                                <li>- shopping</li>
                                <li>- helping with meals</li>
                                <li>- dealing with <span class="fill-blank"><input type="text" name="q4" placeholder="4"></span></li>
                            </ul>
                        </li>
                        <li>• any aspects of caring that are especially difficult, e.g.
                            <ul>
                                <li>- loss of <span class="fill-blank"><input type="text" name="q5" placeholder="5"></span></li>
                                <li>- <span class="fill-blank"><input type="text" name="q6" placeholder="6"></span> her</li>
                                <li>- preventing a <span class="fill-blank"><input type="text" name="q7" placeholder="7"></span></li>
                            </ul>
                        </li>
                    </ul>

                    <h4>Types of support that may be offered to carers</h4>
                    <ul>
                        <li>• transport costs, e.g. cost of a <span class="fill-blank"><input type="text" name="q8" placeholder="8"></span></li>
                        <li>• car-related costs, e.g. fuel and <span class="fill-blank"><input type="text" name="q9" placeholder="9"></span></li>
                        <li>• help with housework</li>
                        <li>• help to reduce <span class="fill-blank"><input type="text" name="q10" placeholder="10"></span></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 2 -->
        <div class="section-container">
            <div class="section-header">
                Part 2 - 志愿者活动 (Questions 11-20)
            </div>
            <div class="section-content">
                <div class="question-group">
                    <h3>Questions 11-16</h3>
                    <p><strong>志愿者在以下每项活动中的作用是什么？</strong></p>
                    <p><strong>从方框中选择六个答案并将正确字母A-I写在题目11-16旁边。</strong></p>
                    
                    <div class="match-section">
                        <div class="match-questions">
                            <div class="match-item">
                                <strong>11. walking around the town centre</strong>
                                <select name="q11" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>12. helping at concerts</strong>
                                <select name="q12" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>13. getting involved with community groups</strong>
                                <select name="q13" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>14. helping with a magazine</strong>
                                <select name="q14" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>15. participating at lunches for retired people</strong>
                                <select name="q15" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>16. helping with the website</strong>
                                <select name="q16" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                </select>
                            </div>
                        </div>
                        <div class="match-options">
                            <p><strong>选项：</strong></p>
                            <div class="match-item">A. providing entertainment</div>
                            <div class="match-item">B. providing publicity about a council service</div>
                            <div class="match-item">C. contacting local businesses</div>
                            <div class="match-item">D. giving advice to visitors</div>
                            <div class="match-item">E. collecting feedback on events</div>
                            <div class="match-item">F. selling tickets</div>
                            <div class="match-item">G. introducing guest speakers at an event</div>
                            <div class="match-item">H. encouraging cooperation between local organisations</div>
                            <div class="match-item">I. helping people find their seats</div>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <h3>Questions 17-20</h3>
                    <p><strong>选择正确答案 A、B 或 C</strong></p>
                    
                    <div class="question">
                        <div class="question-title">17. Which event requires the largest number of volunteers?</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q17" value="A" id="q17a">
                                <label for="q17a">A. the music festival</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q17" value="B" id="q17b">
                                <label for="q17b">B. the science festival</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q17" value="C" id="q17c">
                                <label for="q17c">C. the book festival</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">18. What is the most important requirement for volunteers at the festivals?</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q18" value="A" id="q18a">
                                <label for="q18a">A. interpersonal skills</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q18" value="B" id="q18b">
                                <label for="q18b">B. personal interest in the event</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q18" value="C" id="q18c">
                                <label for="q18c">C. flexibility</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">19. New volunteers will start working in the week beginning</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q19" value="A" id="q19a">
                                <label for="q19a">A. 2 September.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q19" value="B" id="q19b">
                                <label for="q19b">B. 9 September.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q19" value="C" id="q19c">
                                <label for="q19c">C. 23 September.</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">20. What is the next annual event for volunteers?</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q20" value="A" id="q20a">
                                <label for="q20a">A. a boat trip</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q20" value="B" id="q20b">
                                <label for="q20b">B. a barbecue</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q20" value="C" id="q20c">
                                <label for="q20c">C. a party</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3 -->
        <div class="section-container">
            <div class="section-header">
                Part 3 - 人文地理学研究 (Questions 21-30)
            </div>
            <div class="section-content">
                <div class="question-group">
                    <h3>Questions 21-25</h3>
                    <p><strong>Rosie和Colin对人文地理学以下各个方面的看法是什么？</strong></p>
                    <p><strong>从方框中选择五个答案并将正确字母A-G写在题目21-25旁边。</strong></p>
                    
                    <div class="match-section">
                        <div class="match-questions">
                            <h4>Aspects of human geography</h4>
                            <div class="match-item">
                                <strong>21. Population</strong>
                                <select name="q21" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>22. Health</strong>
                                <select name="q22" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>23. Economics</strong>
                                <select name="q23" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>24. Culture</strong>
                                <select name="q24" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                </select>
                            </div>
                            <div class="match-item">
                                <strong>25. Poverty</strong>
                                <select name="q25" class="select-input">
                                    <option value="">选择</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                </select>
                            </div>
                        </div>
                        <div class="match-options">
                            <p><strong>选项：</strong></p>
                            <div class="match-item">A. The information given about this was too vague.</div>
                            <div class="match-item">B. This may not be relevant to their course.</div>
                            <div class="match-item">C. This will involve only a small number of statistics.</div>
                            <div class="match-item">D. It will be easy to find facts about this.</div>
                            <div class="match-item">E. The facts about this may not be reliable.</div>
                            <div class="match-item">F. No useful research has been done on this.</div>
                            <div class="match-item">G. The information provided about this was interesting.</div>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <h3>Questions 26-30</h3>
                    <p><strong>选择正确答案 A、B 或 C</strong></p>
                    
                    <div class="question">
                        <div class="question-title">26. Rosie says that in her own city the main problem is</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q26" value="A" id="q26a">
                                <label for="q26a">A. crime.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q26" value="B" id="q26b">
                                <label for="q26b">B. housing.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q26" value="C" id="q26c">
                                <label for="q26c">C. unemployment.</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">27. What recent additions to the outskirts of their cities are both students happy about?</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q27" value="A" id="q27a">
                                <label for="q27a">A. conference centres</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q27" value="B" id="q27b">
                                <label for="q27b">B. sports centres</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q27" value="C" id="q27c">
                                <label for="q27c">C. retail centres</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">28. The students agree that developing disused industrial sites may</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q28" value="A" id="q28a">
                                <label for="q28a">A. have unexpected costs.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q28" value="B" id="q28b">
                                <label for="q28b">B. damage the urban environment.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q28" value="C" id="q28c">
                                <label for="q28c">C. destroy valuable historical buildings.</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">29. The students will mention Masdar City as an example of an attempt to achieve</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q29" value="A" id="q29a">
                                <label for="q29a">A. daily collections for waste recycling.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q29" value="B" id="q29b">
                                <label for="q29b">B. sustainable energy use.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q29" value="C" id="q29c">
                                <label for="q29c">C. free transport for everyone.</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">30. When discussing the ecotown of Greenhill Abbots, Colin is uncertain about</div>
                        <div class="options">
                            <div class="option">
                                <input type="radio" name="q30" value="A" id="q30a">
                                <label for="q30a">A. what its objectives were.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q30" value="B" id="q30b">
                                <label for="q30b">B. why there was opposition to it.</label>
                            </div>
                            <div class="option">
                                <input type="radio" name="q30" value="C" id="q30c">
                                <label for="q30c">C. how much of it has actually been built.</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4 -->
        <div class="section-container">
            <div class="section-header">
                Part 4 - 食品趋势发展 (Questions 31-40)
            </div>
            <div class="section-content">
                <p><strong>说明：</strong>完成下面的笔记。每个空格只写一个单词。</p>
                
                <div class="completion-section">
                    <h3 style="text-align: center; margin-bottom: 20px;">Developing food trends</h3>
                    
                    <div class="completion-text">
                        <p>• The growth in interest in food fashions started with <span class="fill-blank"><input type="text" name="q31" placeholder="31"></span> of food being shared on social media.</p>
                        
                        <p>• The UK food industry is constantly developing products which are new or different.</p>
                        
                        <p>• Influencers on social media become 'ambassadors' for a brand.</p>
                        
                        <p>• Sales of <span class="fill-blank"><input type="text" name="q32" placeholder="32"></span> food brands have grown rapidly this way.</p>
                        
                        <p>• Supermarkets track demand for ingredients on social media.</p>
                        
                        <p>• Famous <span class="fill-blank"><input type="text" name="q33" placeholder="33"></span> are influential.</p>
                        
                        <h4>Marketing campaigns</h4>
                        <p><strong>• The avocado:</strong></p>
                        <p>- <span class="fill-blank"><input type="text" name="q34" placeholder="34"></span> were invited to visit growers in South Africa.</p>
                        
                        <p>- Advertising focused on its <span class="fill-blank"><input type="text" name="q35" placeholder="35"></span> benefits.</p>
                        
                        <p><strong>• Oat milk:</strong></p>
                        <p>- A Swedish brand's media campaign received publicity by upsetting competitors.</p>
                        
                        <p>- Promotion in the USA through <span class="fill-blank"><input type="text" name="q36" placeholder="36"></span> shops reduced the need for advertising.</p>
                        
                        <p>- It appealed to consumers who are concerned about the <span class="fill-blank"><input type="text" name="q37" placeholder="37"></span>.</p>
                        
                        <p><strong>• Norwegian skrei:</strong></p>
                        <p>- has helped strengthen the <span class="fill-blank"><input type="text" name="q38" placeholder="38"></span> of Norwegian seafood.</p>
                        
                        <h4>Ethical concerns</h4>
                        <p><strong>• Quinoa:</strong></p>
                        <p>- Its success led to an increase in its <span class="fill-blank"><input type="text" name="q39" placeholder="39"></span></p>
                        
                        <p>- Overuse of resources resulted in poor quality <span class="fill-blank"><input type="text" name="q40" placeholder="40"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="submit-container">
            <button class="submit-btn" onclick="submitTest()">提交测试</button>
        </div>

        <div id="results" class="results hidden">
            <h2>测试结果</h2>
            <div class="score-display" id="scoreDisplay">
                <!-- 结果将在这里显示 -->
            </div>
            <div id="detailedResults">
                <!-- 详细结果将在这里显示 -->
            </div>
        </div>
    </div>

    <script>
        let testTimer;
        let timeLeft = 30 * 60; // 30 minutes in seconds
        let testStarted = false;

        // Audio configuration for Test 2
        const audioSections = {
            1: '../剑桥雅思20/剑20 听力音频Test2/Section1.mp3',
            2: '../剑桥雅思20/剑20 听力音频Test2/Section2.mp3',
            3: '../剑桥雅思20/剑20 听力音频Test2/Section3.mp3',
            4: '../剑桥雅思20/剑20 听力音频Test2/Section4.mp3'
        };

        function playSection(sectionNumber) {
            const audio = document.getElementById('currentAudio');
            const audioPath = audioSections[sectionNumber];
            
            if (audioPath) {
                audio.src = audioPath;
                audio.load();
                audio.play().catch(error => {
                    console.error('Audio playback failed:', error);
                    console.warn('音频播放失败，请检查音频文件是否存在。');
                });
            }
        }

        // 正确答案 - 基于图片中的答案
        const correctAnswers = {
            'q1': 'break',
            'q2': 'time',
            'q3': 'shower',
            'q4': 'money',
            'q5': 'memory',
            'q6': 'lifting',
            'q7': 'fall',
            'q8': 'taxi',
            'q9': 'insurance',
            'q10': 'stress',
            'q11': 'D',
            'q12': 'I',
            'q13': 'H',
            'q14': 'E',
            'q15': 'A',
            'q16': 'B',
            'q17': 'B',
            'q18': 'A',
            'q19': 'B',
            'q20': 'A',
            'q21': 'D',
            'q22': 'G',
            'q23': 'B',
            'q24': 'A',
            'q25': 'E',
            'q26': 'C',
            'q27': 'A',
            'q28': 'A',
            'q29': 'B',
            'q30': 'C',
            'q31': 'photos',
            'q32': 'vegan',
            'q33': 'chefs',
            'q34': 'journalists',
            'q35': 'health',
            'q36': 'coffee',
            'q37': 'environment',
            'q38': 'reputation',
            'q39': 'price',
            'q40': 'soil'
        };

        function startTest() {
            if (!testStarted) {
                testStarted = true;
                testTimer = setInterval(updateTimer, 1000);
                console.log('Test started');
            }
        }

        function pauseTest() {
            if (testTimer) {
                clearInterval(testTimer);
                testTimer = null;
                console.log('Test paused');
            } else if (testStarted) {
                testTimer = setInterval(updateTimer, 1000);
                console.log('Test resumed');
            }
        }

        function updateTimer() {
            if (timeLeft <= 0) {
                clearInterval(testTimer);
                submitTest();
                return;
            }

            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function submitTest() {
            clearInterval(testTimer);
            
            let score = 0;
            let totalQuestions = 40;
            let results = [];

            // 检查所有答案
            for (let [question, correctAnswer] of Object.entries(correctAnswers)) {
                let userAnswer = getUserAnswer(question);
                let isCorrect = false;

                if (Array.isArray(correctAnswer)) {
                    // 多选题
                    isCorrect = arraysEqual(userAnswer.sort(), correctAnswer.sort());
                } else {
                    // 单选题或填空题
                    isCorrect = userAnswer.toLowerCase().trim() === correctAnswer.toLowerCase();
                }

                if (isCorrect) score++;
                
                results.push({
                    question: question,
                    userAnswer: userAnswer,
                    correctAnswer: correctAnswer,
                    isCorrect: isCorrect
                });
            }

            // 计算IELTS分数
            const ieltsScore = calculateIELTSScore(score, totalQuestions);
            
            // 显示结果
            displayResults(score, totalQuestions, ieltsScore, results);
        }

        function getUserAnswer(questionName) {
            if (questionName.includes('_')) {
                // 多选题
                const checkboxes = document.querySelectorAll(`input[name="${questionName}"]:checked`);
                return Array.from(checkboxes).map(cb => cb.value);
            } else {
                // 单选题或填空题或下拉选择
                const element = document.querySelector(`input[name="${questionName}"]:checked`) || 
                               document.querySelector(`input[name="${questionName}"]`) ||
                               document.querySelector(`select[name="${questionName}"]`);
                return element ? element.value : '';
            }
        }

        function arraysEqual(a, b) {
            return Array.isArray(a) && Array.isArray(b) && 
                   a.length === b.length && a.every((val, i) => val === b[i]);
        }

        function calculateIELTSScore(score, total) {
            const percentage = score / total;
            if (percentage >= 0.9) return 9;
            if (percentage >= 0.825) return 8.5;
            if (percentage >= 0.75) return 8;
            if (percentage >= 0.675) return 7.5;
            if (percentage >= 0.6) return 7;
            if (percentage >= 0.525) return 6.5;
            if (percentage >= 0.45) return 6;
            if (percentage >= 0.375) return 5.5;
            if (percentage >= 0.3) return 5;
            if (percentage >= 0.225) return 4.5;
            if (percentage >= 0.15) return 4;
            if (percentage >= 0.075) return 3.5;
            return 3;
        }

        function displayResults(score, total, ieltsScore, results) {
            document.getElementById('results').classList.remove('hidden');
            
            const scoreDisplay = document.getElementById('scoreDisplay');
            scoreDisplay.innerHTML = `
                <div>正确答案: ${score}/${total}</div>
                <div>IELTS分数: ${ieltsScore}</div>
                <div>正确率: ${(score/total*100).toFixed(1)}%</div>
            `;

            const detailedResults = document.getElementById('detailedResults');
            let detailsHTML = '<h3>详细结果</h3>';
            
            results.forEach((result, index) => {
                const status = result.isCorrect ? '✓' : '✗';
                const statusClass = result.isCorrect ? 'correct' : 'incorrect';
                detailsHTML += `
                    <div style="margin: 10px 0; padding: 10px; border-left: 4px solid ${result.isCorrect ? '#4ecdc4' : '#ff6b6b'}; background: #f8f9fa;">
                        <strong>${status} 第${index + 1}题</strong><br>
                        你的答案: ${Array.isArray(result.userAnswer) ? result.userAnswer.join(', ') : result.userAnswer}<br>
                        正确答案: ${Array.isArray(result.correctAnswer) ? result.correctAnswer.join(', ') : result.correctAnswer}
                    </div>
                `;
            });
            
            detailedResults.innerHTML = detailsHTML;
            
            // 滚动到结果
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // 防止页面刷新时丢失答案
        window.addEventListener('beforeunload', function(e) {
            if (testStarted && timeLeft > 0) {
                e.preventDefault();
                e.returnValue = '测试正在进行中，确定要离开吗？';
            }
        });
    </script>
</body>
</html>